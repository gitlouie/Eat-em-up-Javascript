
<!DOCTYPE html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">

<title>Eat em up!</title>

<link rel="stylesheet" type="text/css" href="style.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script LANGUAGE="JavaScript1.1" type="text/javascript1.1">


var score = 0;
var tempCard;
var dealt = false;
var hand = new Array(5), CPU_Hand = new Array(5), CPU_Hand2 = new Array(5), CPU_Hand3 = new Array(6);
var held = new Array(6);
var deck = new Array(53);

var position = -1;

var players = new Array(4);

var foodNames = ["0 Apple Bacon Pie", 6,"1 Bacon Gingerbread", 8,"2 Bacon Ice Cream Pie", 6,"3 Bitter Sport Cereal", 4,
			"4 Cake Pops", 2,"5 Candy Cane", 1,"6 Chocolate Bacon Donut", 6,"7 Chocolate Bar", 2,"8 Chocolate Caramel Apple", 3,
			"9 Chocolate Fudge", 2,"10 Chocolate Gingerbread House", 10,"11 Chocolate Ice Cream", 2,"12 Chocolate Meatballs", 4,"13 Chocolate Mint", 3,
			"14 Chocolate Moose", 5,"15 Chocolate Pretzel", 3,"16 Crab Claw Pie", 5,"17 Cream Puff", 2,"18 Cronuts", 3,
			"19 Donut", 2,"20 Gingerbread Man", 2,"21 Gumdrop", 1,"22 Haggin Schitnel Surprise", 12,"23 Hamburger", 3,
			"24 Honey Glazed Ham", 4,"25 Honey Glazed Lamb Chop", 4,"26 Hot Fudge Crust Pizza", 6,"27 Hotdog", 2,"28 Lamb Chop Mint Jelly", 4,
			"29 Licorice", 1,"30 Lollipop", 2,"31 Macaron", 2,"32 Meal Cereal", 4,"33 Meat Pie", 5,
			"34 Pancake Apple", 6,"35 Pumpkin Pie", 3,"36 Puppy Chow", 4,"37 Swirl Cake", 5,"38 Turkey Leg", 2]

var potNames = ["39 Bird Stomach", -1,"40 Sour Tooth", -5,"41 North Forest Diet", -3,"42 Pebble Trails", -3,
			    "43 Vanilla Man", -4,"44 Vegetarian", -2]

var spellNames = ["45 Bone Trick", 0,"46 Boy's Best Friend", 0,"47 Diet Worm", 0,
			"48 Father's Axe", 0,"49 For the Birds", 0,"50 Seconds", 0,"53 Step Mom", 0,"54 Truffle Shuffle", 0,
			"55 Weigh", 0]

var witchNames = ["57 Captured", 0,"58 Contra Band", 0,"59 Force Feed", 0,
			      "60 Turning Point", 0,"61 Nothing", 0,"62 Nothing", 0]




function Deal() {
// fill the deck (in order, for now)


	CreateDeck()
	ShuffleDeck()

	hand = InitPlayerDeck(17);
	CPU_Hand = InitPlayerDeck(5);
	CPU_Hand2 = InitPlayerDeck(0);
	CPU_Hand3 = InitPlayerDeck(12);

	//initalize the players 
	players[0] = new Player("Player 1", hand, 0);
	players[1] = new Player("Player 2", CPU_Hand, 0);
	players[2] = new Player("Player 3", CPU_Hand2, 0);
	players[3] = new Player("Player 4", CPU_Hand3, 0);


	dealt = true; //cards have been dealt.. now draw a new card

}

// Player loc = location of the src file
// i.e 16-21 = Player 1's Card images

function InitPlayerDeck(playerLoc){
	var testHand = new Array(5);

    for (i=0; i<5; i++) {
      testHand[i] = deck[i];
      document.images[playerLoc].src = testHand[i].fname();
      playerLoc++;
     }

     deck.splice(0,5); //remove the cards from the deck
     return testHand;

     /* var x = hand[i].fname();
  	  document.getElementById("demo").innerHTML = x;*/
}


//Draw new cards
function Draw() {
	if (hand[5] != null) return; //makes sure you do not go over 6 cards

    hand.push(deck[0]); //hand now contains the new card
    var row = document.getElementById("playerHand").rows[0];
    var x = row.insertCell(-1);

    var img = document.createElement('img');
    img.id = "c5";
    img.src = deck[0].fname();
    img.onclick = function() { Display("c5"); };
    x.appendChild(img);


  
    deck.splice(0, 1); //remove the card from the deck


}

// Make a filename for an image, given Card object
function fname() {
   return "Card Images/" + this.cardName + ".jpg";
}
// Constructor for Card objects
function Card(cardName, weight, cardType) {
   this.cardName = cardName;
   this.weight = weight;
   this.cardType = cardType;
   this.fname = fname;
}

// Constructor for a Player objects
function Player(playerName, playerhand, weight) {
   this.playerName = playerName;
   this.playerhand = playerhand;
   this.weight = weight;
   this.fname = fname;
}


function DealDraw() {
   if (dealt == true) Draw();
   else Deal();
}

function CreateDeck(){

	x = 0;// to index the names array
	for (i = 0; i < 38; i++) {
	   deck[i] = new Card(foodNames[x], foodNames[x + 1], "food");

	   x+= 2; //new item every 2 elements
	}

	x = 0;// to index the names array
	for (i = 38; i < 44; i++) {
	   deck[i] = new Card(potNames[x], potNames[x + 1], "potion");

	   x+= 2; //new item every 2 elements
	}

	x = 0;// to index the names array
	for (i = 44; i < 53; i++) {
	   deck[i] = new Card(spellNames[x], spellNames[x + 1], "spell");

	   x+= 2; //new item every 2 elements
	}

	x = 0;// to index the names array
	for (i = 53; i < 58; i++) {
	   deck[i] = new Card(witchNames[x], witchNames[x + 1], "spell");

	   x+= 2; //new item every 2 elements
	}
}
function ShuffleDeck(){
	// shuffle the deck
   var n = Math.floor(400 * Math.random() + 500);
   for (i=0; i<n; i++) {
      card1 = Math.floor(53*Math.random());
      card2 = Math.floor(53*Math.random());
      temp = deck[card2];
      deck[card2] = deck[card1];
      deck[card1] = temp;

   }

}


//Display the picture in the middle.
function Display(pos){
	var x = document.getElementById(pos);
	
	var s = x.src, loc = 0;
	var text = s.replace(/[0-9]/g, '').replace(/%/g, '');
	document.images[11].src = x.src;

	//find the location of the card
    for (i=0; i<5; i++) {
    	newName = hand[i].cardName.replace(/[0-9]/g, '').replace(/\s/g, '');

		if(text.indexOf(newName) > -1) loc = i;


    }

	tempCard = hand[loc];
	position = loc;
}

function DisplayOptions(){
	
	//ChangeWeight("total");
	removeCard("playerhand");

}

function removeCard(handID){
	//if (hand[5] != null) return; //makes sure you do not go over 6 cards

	var loc = 0;
	var tc = document.getElementById("playerHand");
	var sCard = tempCard.cardName.replace(/[0-9]/g, '').replace(/\s/g, '');

	var ary = tc ? tc.getElementsByTagName("img") : [];
	
	for(i = 0; i < ary.length; i++){
		
		newName = ary[i].src.replace(/[0-9]/g, '').replace(/%/g, '');

		if(newName.indexOf(sCard) > -1) loc = i;

	}

    hand.pop(deck[loc]); //hand now contains the new card
    var row = document.getElementById("playerHand").rows[0];
    var x = row.deleteCell(loc);
    document.images[11].src = "";

}

function ChangeWeight(weightLocation){
	var weight = parseInt(document.getElementById(weightLocation).value) + tempCard.weight;

	if(weight < 0) 		 weight = 0;
	else if(weight >= 5) //alert("You have lost!!");
	

	document.getElementById(weightLocation).value = weight;

}














</script>
</head>
<body>
	<div class="blended_grid">

				<table class = "CPU_Three" id = "CPU_Three_Hand">
				<tr>
				  <td style="color:white"> <font size="6"><B>Weight:</B></font>
				       <input TYPE="TEXT" SIZE=1 NAME="total" id = "total3" VALUE="0"></td>
		
				</tr>	
				<tr>
				  <td> <img border=0 src="Card Images\63 BackCard.jpg" height=136 width=106 class="rotate180">
				  <td> <img border=0 src="Card Images\63 BackCard.jpg"height=136 width=106 class="rotate180">
				  <td> <img border=0 src="Card Images\63 BackCard.jpg" height=136 width=106 class="rotate180">
				  <td> <img border=0 src="Card Images\63 BackCard.jpg"height=136 width=106 class="rotate180">
				  <td> <img border=0 src="Card Images\63 BackCard.jpg" height=136 width=106 class="rotate180">
				  <td> </td>
				</tr>

				</table>

		<form NAME="form1">

				<table class = "CPU_One" id = "CPU_One_Hand">
				<tr>
					<td style="color:white"> <font size="6"><B>Weight:</B></font>
				    <input TYPE="TEXT" SIZE=1 NAME="total" id = "total1" VALUE="0"></td>
				</tr>
				<tr>
				 <td> <img border=0 src="Card Images\64 BackCard.jpg" height=136 width=106 class="rotate90">
				</tr>
				  <td> <img border=0 src="Card Images\64 BackCard.jpg" height=136 width=106 class="rotate90">
				 </tr>
				 <tr>
				  <td> <img border=0 src="Card Images\64 BackCard.jpg" height=136 width=106 class="rotate90">
				</tr>
				<tr>
				 <td> <img border=0 src="Card Images\64 BackCard.jpg" height=136 width=106 class="rotate90">
				 </tr>
				 <tr>
				  <td> <img border=0 src="Card Images\64 BackCard.jpg" height=136 width=106 class="rotate90">
				</tr>

				</table>
		</form>


		<table class = "deck">
		  <tr>
		  	<td> <a href="#" onClick="DealDraw()">
		  			<img border=0 src="Card Images\63 BackCard.jpg"></a>
		  </tr>
		  <tr>
			<td> <a href="#" onClick="DisplayOptions()">
					<img border=0 src="" style="width:318px;height:398px;margin-top:200px;margin-right:80px;"></a>


		  </tr>
		  <td> </td>
		  </tr>
		</table>




				<table class = "CPU_Two" id = "CPU_Two_Hand">
				<tr>
					 <td style="color:white"> <font size="6"><B>Weight:</B></font>
				       <input TYPE="TEXT" SIZE=1 NAME="total" id = "total2" VALUE="0"></td>
				</tr>
				<tr>
				  <td> <img border=0 src="Card Images\64 BackCard.jpg" height=136 width=106 class="rotate270">
				</tr>
				<tr>
				  <td> <img border=0 src="Card Images\64 BackCard.jpg" height=136 width=106 class="rotate270">
				 </tr>
				 <tr>
				 <td> <img border=0 src="Card Images\64 BackCard.jpg" height=136 width=106 class="rotate270">
				</tr>
				<tr>
				 <td> <img border=0 src="Card Images\64 BackCard.jpg" height=136 width=106 class="rotate270">
				 </tr>
				 <tr>
				  <td> <img border=0 src="Card Images\64 BackCard.jpg" height=136 width=106 class="rotate270">
				</tr>

				<p id="demo"></p>
				</table>


				<form NAME="form1">

				<table class = "player" id = "playerHand">
				<tr>
				  	<td> <a href="#" onClick="Display('c0')">
				       <img id = "c0" border=0 src="Card Images\63 BackCard.jpg"></a>
				    </td>
				  	<td> <a href="#" onClick="Display('c1')">
				       <img id = "c1" border=0 src="Card Images\63 BackCard.jpg"></a>
				    </td>
				  	<td> <a href="#" onClick="Display('c2')">
				       <img id = "c2" border=0 src="Card Images\63 BackCard.jpg"></a>
				    </td>
				  	<td> <a href="#" onClick="Display('c3')">
				       <img id = "c3" border=0 src="Card Images\63 BackCard.jpg"></a>
				  	</td>
				  	<td> <a href="#" onClick="Display('c4')">
				       <img id = "c4" border=0 src="Card Images\63 BackCard.jpg"></a>
				    </td>
				  <td> </td>
				</tr>

				<tr>
				  <td style="color:white"> <font size="6"><B>Weight:</B></font>
				       <input TYPE="TEXT" SIZE=1 NAME="total" id = "total" VALUE="0"></td>
				  <td colspan=2  style="color:white">  <font size="6"><B>Current Hand:</B></font>

				  <td>
		
				</tr>
				</table>
				</form>
	</div>
</body>

 <style type="text/css">
		 *{
		padding : 0;
		margin : 0;
		border : 0;
		}
		body{
		background-image : url(' Background.jpg ');
		background-attachment : fixed;
		background-size : 100% auto;
		}
		img{
		height: 150px;
		width: 115px;
		}


		input {
		line-height: 4em;
		background-image : url(' Background.jpg ');
		background-attachment : fixed;
		background-size : 100% auto;
		color: #ffffff;
		font-size: 24px;
		}

		.blended_grid{
		display : block;
		width : 1000px;
		overflow : auto;
		margin : 50px auto 0 auto;
		}
		.CPU_Three{
		//background-color : red;
		float : left;
		clear : none;
		height : 0px;
		width : 1000px;
		padding-right: 50px;

		}
		.CPU_One{
		//background-color : blue;
		float : left;
		clear : none;
		height : 600px;
		width : 160px;
		padding-right: 30px;
		padding-bottom: 50px;
		padding-top: 50px;
		}
		.deck{
		//background-color : black;
		float : left;
		clear : none;
		height : 600px;
		width : 680px;
		padding-right: 250px;
		padding-bottom: 150px;
		}
		.CPU_Two{
		//background-color : yellow;
		float : left;
		clear : none;
		height : 600px;
		width : 160px;
		padding-right: 30px;
		padding-bottom: 50px;
		padding-top: 50px;
		}
		.player{
		//background-color : green;
		float : left;
		clear : none;
		height : 100px;
		width : 1000px;
		padding-right: 50px;
		}
		.rotate90 {
	    -webkit-transform: rotate(90deg);
	    -moz-transform: rotate(90deg);
	    -o-transform: rotate(90deg);
	    -ms-transform: rotate(90deg);
	    transform: rotate(90deg);
		}
		.rotate270 {
	    -webkit-transform: rotate(270deg);
	    -moz-transform: rotate(270deg);
	    -o-transform: rotate(270deg);
	    -ms-transform: rotate(270deg);
	    transform: rotate(270deg);
		}
		.rotate180 {
	    -webkit-transform: rotate(180deg);
	    -moz-transform: rotate(180deg);
	    -o-transform: rotate(180deg);
	    -ms-transform: rotate(180deg);
	    transform: rotate(180deg);
		}

		table {
	    //border: 1px solid blue;
	    text-align: right;
	  	}

	  	#display{
			padding-right: 50px;
			padding-top: 50px;
	  	}

  </style>
</html>


